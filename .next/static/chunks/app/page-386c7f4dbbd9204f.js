(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4739:(e,t,a)=>{"use strict";let s;a.r(t),a.d(t,{default:()=>y});var r=a(5155),n=a(2115),l=a(5239),i=a(1113);function o(e){let{onAdd:t}=e,[a,s]=(0,n.useState)(""),[l,i]=(0,n.useState)("");return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&(t({url:a,notes:l}),s(""),i(""))},className:"bg-white rounded-lg shadow p-4 flex flex-col gap-3",children:[(0,r.jsx)("input",{type:"url",placeholder:"Home URL",value:a,onChange:e=>s(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-mwAqua focus:outline-none"}),(0,r.jsx)("textarea",{placeholder:"Notes (optional)",value:l,onChange:e=>i(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-mwAqua focus:outline-none"}),(0,r.jsx)("button",{type:"submit",className:"bg-mwAqua text-white rounded-md py-2 font-semibold hover:opacity-90 transition",children:"Add Home"})]})}function d(e){let{home:t}=e;return(0,r.jsxs)("div",{className:"border rounded-lg p-4 bg-white shadow hover:shadow-md transition",children:[(0,r.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 font-semibold break-all",children:t.url}),t.notes&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:t.notes})]})}function c(){return(0,r.jsxs)("div",{className:"flex justify-center gap-6 mt-6 flex-wrap",children:[(0,r.jsx)(l.default,{src:"/mwbadgemilvet.png",alt:"Military Veteran Badge",width:100,height:100,className:"w-24 h-24 object-contain hover:scale-105 transition"}),(0,r.jsx)(l.default,{src:"/mwbadgemilaffil.png",alt:"Military Affiliation Badge",width:100,height:100,className:"w-24 h-24 object-contain hover:scale-105 transition"}),(0,r.jsx)(l.default,{src:"/mwbadgelender.png",alt:"Lender Badge",width:100,height:100,className:"w-24 h-24 object-contain hover:scale-105 transition"})]})}function m(e){let{visible:t,onClose:a,onInvite:s}=e,[i,o]=(0,n.useState)("");return t?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"relative bg-white w-11/12 max-w-md rounded-2xl shadow-xl p-6 sm:p-8 text-center",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)(l.default,{src:"/mwlogomustwants.png",alt:"MustWants Logo",width:60,height:60,className:"opacity-90",priority:!0})}),(0,r.jsx)("h2",{className:"text-xl font-bold text-mwBlack mb-2",children:"Invite a Partner"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Enter your partner’s email to collaborate on your home list."}),(0,r.jsx)("input",{type:"email",value:i,onChange:e=>o(e.target.value),placeholder:"partner@email.com",className:"w-full border border-gray-300 rounded-lg px-4 py-2 text-gray-800 focus:ring-2 focus:ring-mwAqua focus:outline-none"}),(0,r.jsxs)("div",{className:"mt-6 flex justify-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>{i.trim()&&(s(i),o(""))},className:"bg-mwLime text-mwBlack font-semibold px-5 py-2 rounded-lg shadow hover:opacity-90 transition",children:"Send Invite"}),(0,r.jsx)("button",{onClick:a,className:"border border-gray-300 text-gray-700 px-5 py-2 rounded-lg hover:bg-gray-100 transition",children:"Cancel"})]}),(0,r.jsx)("div",{className:"mt-6 flex justify-center",children:(0,r.jsx)(l.default,{src:"/mwbadgemilaffil.png",alt:"MustWants Military Badge",width:100,height:100,className:"w-20 h-20 object-contain opacity-90"})})]})}):null}var u=a(5553),x=a(5704);let h=x.env.NEXT_PUBLIC_SUPABASE_URL,g=x.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;async function f(){try{let{data:e}=await s.from("homes").select("*").order("rank",{ascending:!0});return null!=e?e:[]}catch(e){return[]}}async function p(e){if(!h||!g)return{success:!0,data:{id:Date.now(),rank:1,...e}};let{data:t,error:a}=await s.from("homes").insert([e]).select().single();return{success:!a,data:t}}async function b(e){if(!h||!g)return e;let t=e.map((e,t)=>({id:e.id,rank:t+1}));return await s.from("homes").upsert(t),e}function y(){let[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)(!1);async function u(a){if(!a.destination)return;let s=Array.from(e),[r]=s.splice(a.source.index,1);s.splice(a.destination.index,0,r),t([...await b(s)])}async function x(a){let s=await p(a);s.success&&s.data&&t([...e,s.data])}return(0,n.useEffect)(()=>{f().then(t)},[]),(0,r.jsxs)("main",{className:"min-h-screen bg-gradient-to-b from-[#f9fafb] via-white to-[#f0fdf4] text-[#1b1f1e] font-body",children:[(0,r.jsx)("nav",{className:"sticky top-0 z-40 backdrop-blur-md bg-white/80 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto flex items-center justify-between px-6 py-3",children:[(0,r.jsx)("div",{className:"flex items-center gap-3",children:(0,r.jsx)(l.default,{src:"/mwlogohorizontal.png",alt:"MustWants Logo",width:160,height:48,priority:!0,className:"drop-shadow-sm"})}),(0,r.jsx)("button",{onClick:()=>s(!0),className:"hidden sm:block bg-mwAqua hover:bg-mwLime text-black font-semibold px-4 py-2 rounded-lg transition-all",children:"Invite Partner"})]})}),(0,r.jsxs)("section",{className:"text-center py-16 px-6 bg-gradient-to-r from-mwAqua to-mwLime text-black",children:[(0,r.jsxs)("h1",{className:"text-5xl font-heading font-bold tracking-tight",children:["Find Your ",(0,r.jsx)("span",{className:"text-white drop-shadow",children:"Next Home"})," Together"]}),(0,r.jsx)("p",{className:"mt-3 text-lg text-black/80 font-subheading",children:"Add homes, rank them with your partner, and decide what really matters."}),(0,r.jsx)("div",{className:"flex justify-center mt-8",children:(0,r.jsx)(c,{})})]}),(0,r.jsxs)("section",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-10",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 sm:p-8 border border-gray-100",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Add and Rank Your Favorite Homes"}),(0,r.jsx)(o,{onAdd:x})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Your Ranked List"}),(0,r.jsx)(i.JY,{onDragEnd:u,children:(0,r.jsx)(i.gL,{droppableId:"homes",children:t=>(0,r.jsxs)("div",{ref:t.innerRef,...t.droppableProps,className:"space-y-4",children:[0===e.length&&(0,r.jsx)("p",{className:"text-center text-gray-400 italic",children:"No homes yet. Add a link above to get started."}),e.map((e,t)=>(0,r.jsx)(i.sx,{draggableId:e.id,index:t,children:t=>(0,r.jsx)("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,children:(0,r.jsx)(d,{home:e})})},e.id)),t.placeholder]})})})]})]}),(0,r.jsx)(m,{visible:a,onClose:()=>s(!1),onInvite:e=>{alert("Invite sent to ".concat(e)),s(!1)}}),(0,r.jsx)("footer",{className:"bg-white border-t border-gray-200 mt-12 py-6 text-center text-sm text-gray-600",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,r.jsx)(l.default,{src:"/mwlogomustwants.png",alt:"MustWants Icon",width:48,height:48,className:"opacity-80"}),(0,r.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," MustWants — helping you find your next home together"]})]})})]})}h&&g?s=(0,u.UU)(h,g):(console.warn("⚠️ Supabase credentials not found — using local mock mode"),s={from:()=>({select:async()=>({data:[],error:null}),insert:async()=>({data:[],error:null}),update:async()=>({data:[],error:null}),delete:async()=>({data:[],error:null})})})},8827:(e,t,a)=>{Promise.resolve().then(a.bind(a,4739))}},e=>{e.O(0,[309,239,419,441,255,358],()=>e(e.s=8827)),_N_E=e.O()}]);